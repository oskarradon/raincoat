"use strict";function displayResult(e){document.getElementById("loading").style.display="none",document.getElementById("result").style.display="block",document.getElementById("result-text").innerHTML=e}function displayTemperatureNow(e,t,n){document.getElementById("now").style.display="block",document.querySelectorAll("#now .temps .low-temp")[0].innerHTML=e+"&#176;",document.querySelectorAll("#now .temps .high-temp")[0].innerHTML=t+"&#176;",document.querySelectorAll("#now .description")[0].innerHTML=n,document.querySelectorAll("#now img")[0].src=displayPicture(n)}function displayTemperatureLater(e,t,n){document.getElementById("later").style.display="block",document.querySelectorAll("#later .temps .low-temp")[0].innerHTML=e+"&#176;",document.querySelectorAll("#later .temps .high-temp")[0].innerHTML=t+"&#176;",document.querySelectorAll("#later .description")[0].innerHTML=n,document.querySelectorAll("#later img")[0].src=displayPicture(n)}function displayPicture(e){var t=(new Date).getHours();return"Rain"===e||"Drizzle"===e?"../img/rain.png":"Snow"===e?"../img/snow.png":"Clouds"===e?"../img/cloud.png":"Thunderstorm"===e?"../img/thunder.png":"Clear"===e&&17<t>5?"../img/moon.png":"Clear"===e?"..img/sun.png":"../img/swirl.png"}function introAnimate(){document.getElementById("intro").style.display="flex",TweenMax.from(document.querySelectorAll("#intro div h1"),1.5,{delay:.5,ease:Power1.easeIn,marginTop:"-60px",opacity:0}),TweenMax.from(document.querySelectorAll("#intro div h4"),1,{delay:2,ease:Power4.easeIn,opacity:0}),TweenMax.to(document.querySelectorAll("#intro div"),1,{delay:6,ease:Power4.easeOut,opacity:0,marginTop:"-40px"}),window.setTimeout(function(){document.getElementById("intro").style.display="none",console.log("hide intro")},7e3)}function headerAnimate(){document.getElementsByTagName("header")[0].style.display="block",TweenMax.from(document.getElementsByTagName("header"),1,{ease:Power3.easeInOut,marginTop:"-80px"})}function getLocation(){function e(e){getWeather(e.coords.latitude,e.coords.longitude)}function t(){displayResult("Woah, couldn't find your location!")}navigator.geolocation.getCurrentPosition(e,t)}function getWeather(e,t){var n="eef54fef4f484053c798c7b450ab75ab",o=new XMLHttpRequest;o.open("GET","http://api.openweathermap.org/data/2.5/forecast?lat="+e+"&lon="+t+"&appid="+n,!0),o.onload=function(){if(o.status>=200&&o.status<400){var e=JSON.parse(o.responseText);if("Rain"===e.list[0].weather[0].main||"Rain"===e.list[1].weather[0].main||"Rain"===e.list[2].weather[0].main){displayResult("Yep, "+e.city.name+" weather isn't looking too good.");var t=toFahrenheit(e.list[0].main.temp_min),n=toFahrenheit(e.list[0].main.temp_max),i=e.list[0].weather[0].main,a=toFahrenheit(e.list[1].main.temp_min),r=toFahrenheit(e.list[1].main.temp_max),l=e.list[1].weather[0].main;displayTemperatureNow(t,n,i),displayTemperatureLater(a,r,l)}}else displayResult("Hmm, couldn't get any weather data.")},o.onerror=function(){displayResult("Hmm, couldn't get any weather data.")},o.send()}function toFahrenheit(e){return Math.round(1.8*(e-273.15)+32)}function toCelcius(e){return Math.round(e-273.15)}introAnimate(),window.setTimeout(headerAnimate,7e3);