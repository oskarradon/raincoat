"use strict";function displayResult(e){document.getElementById("loading").style.display="none",document.getElementById("result").style.display="block",document.getElementById("result-text").innerHTML=e}function displayTemperatureNow(e,t,n){document.getElementById("now").style.display="block",document.querySelectorAll("#now .temps .low-temp")[0].innerHTML=e,document.querySelectorAll("#now .temps .high-temp")[0].innerHTML=t,document.querySelectorAll("#now .description")[0].innerHTML=n}function displayTemperatureLater(e,t,n){document.getElementById("later").style.display="block",document.querySelectorAll("#later .temps .low-temp")[0].innerHTML=e,document.querySelectorAll("#later .temps .high-temp")[0].innerHTML=t,document.querySelectorAll("#later .description")[0].innerHTML=n}function getLocation(){function e(e){getWeather(e.coords.latitude,e.coords.longitude)}function t(){displayResult("Woah, couldn't find your location!")}navigator.geolocation.getCurrentPosition(e,t)}function getWeather(e,t){var n="eef54fef4f484053c798c7b450ab75ab",o=new XMLHttpRequest;o.open("GET","http://api.openweathermap.org/data/2.5/forecast?lat="+e+"&lon="+t+"&appid="+n,!0),o.onload=function(){if(o.status>=200&&o.status<400){var e=JSON.parse(o.responseText);if(console.log(e),"Rain"===e.list[0].weather[0].main||"Rain"===e.list[1].weather[0].main||"Rain"===e.list[2].weather[0].main){displayResult("Yep, "+e.city.name+" weather isn't looking too good.");var t=toFahrenheit(e.list[0].main.temp_min),n=toFahrenheit(e.list[0].main.temp_max),i=e.list[0].weather.description,a=toFahrenheit(e.list[1].main.temp_min),l=toFahrenheit(e.list[1].main.temp_max),r=e.list[1].weather.description;displayTemperatureNow(t,n,i),displayTemperatureLater(a,l,r)}}else displayResult("Hmm, couldn't get any weather data.")},o.onerror=function(){displayResult("Hmm, couldn't get any weather data.")},o.send()}function toFahrenheit(e){return Math.round(1.8*(e-273.15)+32)}function toCelcius(e){return Math.round(e-273.15)}getLocation();