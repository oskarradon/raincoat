function geoLocate(){function o(o){var e=o.coords.latitude,n=o.coords.longitude;console.log(e,n),callAPI(e,n)}function e(){console.log("GPS error")}navigator.geolocation.getCurrentPosition(o,e)}function callAPI(o,e){var n=new XMLHttpRequest;n.open("GET","http://api.openweathermap.org/data/2.5/weather?lat="+o+"&lon="+e+"&appid="+apiKey,!0),n.onload=function(){if(n.status>=200&&n.status<400){var o=JSON.parse(n.responseText);console.log(o)}else console.log("server error ",n.status)},n.onerror=function(){console.log("API connection error")},n.send()}var apiKey="eef54fef4f484053c798c7b450ab75ab";document.addEventListener("DOMContentLoaded",function(o){geoLocate()});