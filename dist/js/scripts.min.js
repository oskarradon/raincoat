function getLocation(){function e(e){var o=e.coords.latitude,t=e.coords.longitude;getWeather(o,t)}function o(){document.getElementById("loading").style.display="none",document.getElementById("location-error").style.display="block"}navigator.geolocation.getCurrentPosition(e,o)}function getWeather(e,o){var t="eef54fef4f484053c798c7b450ab75ab",n=new XMLHttpRequest;n.open("GET","http://api.openweathermap.org/data/2.5/forecast?lat="+e+"&lon="+o+"&appid="+t,!0),n.onload=function(){if(n.status>=200&&n.status<400){var e=JSON.parse(n.responseText);console.log(e),document.getElementById("loading").style.display="none",document.getElementById("raining").style.display="block"}else console.log("server error ",n.status)},n.onerror=function(){console.log("API connection error")},n.send()}getLocation();