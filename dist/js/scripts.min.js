function getLocation(){function o(o){var e=o.coords.latitude,t=o.coords.longitude;console.log(e,t),getWeather(e,t)}function e(){console.log("GPS error")}navigator.geolocation.getCurrentPosition(o,e)}function getWeather(o,e){var t="eef54fef4f484053c798c7b450ab75ab",n=new XMLHttpRequest;n.open("GET","http://api.openweathermap.org/data/2.5/weather?lat="+o+"&lon="+e+"&appid="+t,!0),n.onload=function(){if(n.status>=200&&n.status<400){var o=JSON.parse(n.responseText);console.log(o)}else console.log("server error ",n.status)},n.onerror=function(){console.log("API connection error")},n.send()}getLocation();